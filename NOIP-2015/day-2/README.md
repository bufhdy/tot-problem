# CCF NOIP 2015 Day 2

## 1. 跳石头 stone

<a href="https://github.com/bufhdy/tot-problem/blob/master/NOIP-2015/day-2/stone.md#stone">题解</a>

**问题描述**

一年一度的「跳石头」比赛又要开始了！

这项比赛将在一条笔直的河道中进行，河道中分布着一些巨大岩石。组委会已经选择好了两块岩石作为比赛起点和终点。在起点和终点之间，有 N 块岩石（不含起点和终点的岩石）。在比赛过程中，选手们将从起点出发，每一步跳向相邻的岩石，直至到达终点。

为了提高比赛难度，组委会计划移走一些岩石，使得选手们在比赛过程中的最短跳跃距离尽可能长。由于预算限制，组委会至多从起点和终点之间移走 M 块岩石（不能移走起点和终点的岩石）。

**输入**

输入文件第一行包含三个整数 L，N，M，分别表示起点到终点的距离，起点和终点之间的岩石数，以及组委会至多移走的岩石数。

接下来 N 行，每行一个整数，第 i 行的整数 D<sub>i</sub>（0 < D<sub>i</sub> < L）表示第 i 块岩石与起点的距离。这些岩石按与起点距离从小到大的顺序给出，且不会有两个岩石出现在同一个位置。

**输出**

输出文件只包含一个整数，即最短跳跃距离的最大值。

<table>
<tr>
<th>输入样例</th>
<th>输出样例</th>	
</tr>
<tr>
<td valign="top">
25 5 2<br/>
2<br/>
11<br/>
14<br/>
17<br/>
21<br/>
</td>
<td valign="top">4</td>
</tr>
</table>

**样例说明**

将与起点距离为 2 和 14 的两个岩石移走后，最短的跳跃距离为 4（从与起点距离 17 的岩石跳到距离 21 的岩石，或者从距离 21 的岩石跳到终点）。

<br />

## 2. 子串 substring

<a href="https://github.com/bufhdy/tot-problem/blob/master/NOIP-2015/day-2/source%20code/substring.cpp">源码和题解</a>

**问题描述**

有两个仅包含小写英文字母的字符串 A 和 B。现在要从字符串 A 中取出 k 个**互不重叠**的非空子串，然后把这 k 个子串按照其在字符串 A 中出现的顺序依次连接起来得到一个新的字符串，请问有多少种方案可以使得这个新串与字符串 B 相等？注意：子串取出的位置不同也认为是不同的方案。

**输入**

第一行是三个正整数 n，m，k，分别表示字符串 A 的长度，字符串 B 的长度，以及问题描述中所提到的 k，每两个整数之间用一个空格隔开。
第二行包含一个长度为 n 的字符串，表示字符串 A。
第三行包含一个长度为 m 的字符串，表示字符串 B。

**输出**

输出共一行，包含一个整数，表示所求方案数。**由于答案可能很大，所以这里要求输出答案对 1,000,000,007 取模的结果。**

<table>
<tr>
<th>输入样例 1</th>
<th>输出样例 1</th>	
</tr>
<tr>
<td valign="top">
6 3 1<br />
aabaab<br />
aab<br />
</td>
<td valign="top">2</td>
</tr>
</table>

<table>
<tr>
<th>输入样例 2</th>
<th>输出样例 2</th>	
</tr>
<tr>
<td valign="top">
6 3 2<br />
aabaab<br />
aab<br />
</td>
<td valign="top">7</td>
</tr>
</table>

<table>
<tr>
<th>输入样例 3</th>
<th>输出样例 3</th>	
</tr>
<tr>
<td valign="top">
6 3 3<br />
aabaab<br />
aab<br />
</td>
<td valign="top">7</td>
</tr>
</table>

**样例说明**

所有合法方案如下：（加粗部分表示取出的子串）

样例 1：**aab** aab / aab **aab**

样例 2：**a** **ab** aab / **a** aba **ab** / a **a** ba **ab** / aab **a** **ab**

**aa** **b** aab / **aa** baa **b** / aab **aa** **b**

样例 3：**a** **a** **b** aab / **a** **a** baa **b** / **a** ab **a** a **b** / **a** aba **a** **b** 

a **a** b **a** a **b** / a **a** ba **a** **b** / aab **a** **a** **b**

**数据规模与约定**

对于第 1 组数据：1 ≤ n ≤ 500，1 ≤ m ≤ 50，k = 1；

对于第 2 组至第 3 组数据：1 ≤ n ≤ 500，1 ≤ m ≤ 50，k = 2；

对于第 4 组至第 5 组数据：1 ≤ n ≤ 500，1 ≤ m ≤ 50，k = m；

对于第 1 组至第 7 组数据：1 ≤ n ≤ 500，1 ≤ m ≤ 50，1 ≤ k ≤ m；

对于第 1 组至第 9 组数据：1 ≤ n ≤ 1000，1 ≤ m ≤ 100，1 ≤ k ≤ m；

对于所有 10 组数据：1 ≤ n ≤ 1000，1 ≤ m ≤ 200，1 ≤ k ≤ m。

<br />

## 3. 运输计划 transport

**问题描述**

公元 2044 年，人类进入了宇宙纪元。

L 国有 n 个星球，还有 n - 1 条双向航道，每条航道建立在两个星球之间，这 n - 1 条
航道连通了 L 国的所有星球。

小 P 掌管一家物流公司，该公司有很多个运输计划，每个运输计划形如：有一艘物
流飞船需要从 u<sub>i</sub> 号星球沿最快的宇航路径飞行到 v<sub>i</sub> 号星球去。显然，飞船驶过一条航道
是需要时间的，对于航道 j，任意飞船驶过它所花费的时间为 t<sub>j</sub>，并且任意两艘飞船之
间不会产生任何干扰。

为了鼓励科技创新，L 国国王同意小 P 的物流公司参与 L 国的航道建设，即允许小
P 把某一条航道改造成虫洞，飞船驶过虫洞不消耗时间。
在虫洞的建设完成前小 P 的物流公司就预接了 m 个运输计划。在虫洞建设完成后，

这 m 个运输计划会同时开始，所有飞船一起出发。当这 m 个运输计划都完成时，小 P 的
物流公司的阶段性工作就完成了。

如果小 P 可以自由选择将哪一条航道改造成虫洞， 试求出小 P 的物流公司完成阶段
性工作所需要的最短时间是多少？

**输入格式**

第一行包括两个正整数 n、 m，表示 L 国中星球的数量及小 P 公司预接的运输计划的
数量，星球从 1 到 n 编号。

接下来 n - 1 行描述航道的建设情况，其中第 i 行包含三个整数 a<sub>i</sub>, b<sub>i</sub> 和 t<sub>i</sub>，表示第
i 条双向航道修建在 a<sub>i</sub> 与 b<sub>i</sub> 两个星球之间，任意飞船驶过它所花费的时间为 t<sub>i</sub>。

接下来 m 行描述运输计划的情况，其中第 j 行包含两个正整数 u<sub>j</sub> 和 v<sub>j</sub>，表示第 j 个
运输计划是从 u<sub>j</sub> 号星球飞往 v<sub>j</sub> 号星球。

**输出格式**

共 1 行，包含 1 个整数，表示小 P 的物流公司完成阶段性工作所需要的最短时间。

<table>
<tr>
<th>输入样例</th>
<th>输出样例</th>	
</tr>
<tr>
<td valign="top">
6 3<br />
1 2 3<br />
1 6 4<br />
3 1 7<br />
4 3 6<br />
3 5 5<br />
3 6<br />
2 5<br />
4 5<br />
</td>
<td valign="top">11</td>
</tr>
</table>

**样例说明**

将第 1 条航道改造成虫洞：则三个计划耗时分别为：11、12、11，故需要花费的时
间为 12。

将第 2 条航道改造成虫洞：则三个计划耗时分别为：7、15、11，故需要花费的时
间为 15。

将第 3 条航道改造成虫洞：则三个计划耗时分别为：4、8、11，故需要花费的时间
为 11。

将第 4 条航道改造成虫洞：则三个计划耗时分别为：11、15、5，故需要花费的时
间为 15。

将第 5 条航道改造成虫洞：则三个计划耗时分别为：11、10、6，故需要花费的时
间为 11。

故将第 3 条或第 5 条航道改造成虫洞均可使得完成阶段性工作的耗时最短，需要花
费的时间为 11。

**数据规模与约定**

所有测试数据的范围和特点如下表所示：

<table>
<tr>
<th>测试点编号</th>
<th>n</th>
<th>m</th>
<th>约定</th>
</tr>
<tr>
<td>1</td>
<td rowspan="3">100</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td rowspan="2">100</td>
<td>第 i 条航道连接 i 号星球与 i + 1 号星球</td>
</tr>
<tr>
<td>3</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>2000</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>1000</td>
<td>1000</td>
<td rowspan="3">第 i 条航道连接 i 号星球与 i + 1 号星球</td>
</tr>
<tr>
<td>6</td>
<td>2000</td>
<td>2000</td>
</tr>
<tr>
<td>7</td>
<td>3000</td>
<td>3000</td>
</tr>
<tr>
<td>8</td>
<td>1000</td>
<td>1000</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>2000</td>
<td>2000</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>3000</td>
<td>3000</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>80000</td>
<td rowspan="2">1</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>100000</td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>70000</td>
<td>70000</td>
<td rowspan = 3D4>第 i 条航道连接 i 号星球与 i + 1 号星球</td>
</tr>
<tr>
<td>14</td>
<td>80000</td>
<td>80000</td>
</tr>
<tr>
<td>15</td>
<td>90000</td>
<td>90000</td>
</tr>
<tr>
<td>16</td>
<td>100000</td>
<td>100000</td>
</tr>
<tr>
<td>17</td>
<td>80000</td>
<td>80000</td>
<td></td>
</tr>
<tr>
<td>18</td>
<td>90000</td>
<td>90000</td>
<td></td>
</tr>
<tr>
<td>19</td>
<td>100000</td>
<td>100000</td>
<td></td>
</tr>
<tr>
<td>20</td>
<td>300000</td>
<td>300000</td>
<td></td>
</tr>
<tr>
<td>所有数据</td>
<td></td>
<td></td>
<td>1 ≤ a<sub>i</sub>, b<sub>i</sub>, u<sub>j</sub>, v<sub>j</sub> ≤ n,0 ≤ t<sub>i</sub> ≤ 100</td>
</table>
